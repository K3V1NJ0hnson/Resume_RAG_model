performance.mark("js-parse-end:react-code-view-7f9b1e975c66b8cd.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["8145"],{29128(e,t,n){n.d(t,{P:()=>s});var r=n(32764),o=n(32089),l=n(2428),a=n(96540),i=n(43546);function s(e){let t=(0,l.B)(),n=e||t,s=(0,a.useRef)(n),c=(0,o.q)();if(n)s.current=n;else{let e=(0,r.n7E)(location.pathname,s.current.refInfo.name,s.current.path);n=(0,i.Bl)(s.current,c,e)}return n}},43546(e,t,n){n.d(t,{Bl:()=>l,aO:()=>o});var r=n(9364);function o(e){return(0,r.H)(e)?{...e.fileTree,[e.path]:{items:e.tree.items,totalCount:e.tree.totalCount}}:e.fileTree}function l(e,t,n){return{path:n,repo:e.repo,refInfo:e.refInfo,currentUser:e.currentUser,fileTree:o(e),fileTreeProcessingTime:e.fileTreeProcessingTime,foldersToFetch:e.foldersToFetch,allShortcutsEnabled:e.allShortcutsEnabled,treeExpanded:e.treeExpanded,symbolsExpanded:e.symbolsExpanded,codeLineWrapEnabled:e.codeLineWrapEnabled,isMarketplaceEnabled:e.isMarketplaceEnabled,error:t||void 0}}},88117(e,t,n){var r=n(1757),o=n(69329),l=n(36495),a=n(74848),i=n(50038),s=n(85970),c=n(99363),d=n(4045),u=n(22625),h=n(50035),p=n(5642),f=n(68216),m=n(75474),b=n(7570),x=n(12436),E=n(82465),w=n(19379),g=n(18888),j=n(15751),v=n(29128),I=n(43546);function C(e){return"editInfo"in e&&"webCommitInfo"in e}var y=n(36991),T=n(65599),O=n(9364),S=n(70516),k=n(37198),N=n(98632),A=n(54695),R=n(79008),_=n(21765),F=n(88327),D=n(91661),B=n(87555),P=n(94709),M=n(96540),z=n(32899),W=n(96679),L=n(96881),H=n(96251),Q=n(79437),q=n(87844),G=n(15595),V=n(13264),U=n(82943),$=n(84985),X=n(21654),Z=n(34898),K=n(88498),Y=n(48563),J=n(21709),ee=n(46481),et=n(45050);let en=(0,M.lazy)(()=>Promise.all([n.e("90225"),n.e("67985"),n.e("61110"),n.e("12287"),n.e("30045"),n.e("8857"),n.e("72608"),n.e("43540"),n.e("51210"),n.e("83843"),n.e("54479"),n.e("93859"),n.e("74357"),n.e("1141"),n.e("73046"),n.e("23262"),n.e("56943"),n.e("775"),n.e("63951"),n.e("1655")]).then(n.bind(n,53623)));function er({initialPayload:e}){let t=(0,v.P)(e);return(0,a.jsx)(el,{payload:t,isDataRouter:!1})}en.displayName="BlobEditor",er.displayName="CodeViewEntrypoint";let eo=e=>{(0,ee.Q)(e,null,null)};function el({payload:e,isDataRouter:t=!0}){let n,r=(0,S.t)(),{findFileWorkerPath:o}=(0,m.s)(),{path:l}=e,v=(0,j.p)(e.refInfo),ee=C(e),er=(0,y.m)(e),el=(0,y.K)(e),ea=(0,T.i)(e),[ei,es]=(0,M.useState)(null),ec=(0,X.U6)(r,v,l,e.error?.httpStatus===404),ed=(0,$.TX)(r,v,l,e.error?.httpStatus===404,er||el?e.blob.rawLines?.length??1e5:1e5),eu=M.useRef(null),eh=M.useRef(!1),ep=M.useRef(!1),ef=M.useRef(null),em=M.useRef(null),eb="repos-file-tree",ex=M.useRef(void 0);(0,D.R)("hpc",t=>{!(0,O.H)(e)||t.detail.hpc&&(0,A.au)({name:"CODE_VIEW_TREE_HPC",value:t.detail.hpc,tags:{app:"react-code-view",soft:String(t.detail.soft),ssr:String(t.detail.ssr),mechanism:String(t.detail.mechanism)}})});let{toggleFocusedPaneShortcut:eE}=(0,g.wk)();(0,_.t)(),(0,F.L)(!0);let ew=M.useMemo(()=>(0,I.aO)(e),[e.path,e.refInfo.currentOid]),{isTreeExpanded:eg,collapseTree:ej,expandTree:ev,treeToggleElement:eI,treeToggleRef:eC,searchBoxRef:ey}=(0,k.qn)(eb,ex,e.treeExpanded,et.wQ,eo),eT=(0,M.useCallback)(()=>{window.innerWidth<N.Gy.large&&ej({focus:null})},[ej]),[eO,eS]=(0,M.useState)(!0);(0,M.useEffect)(()=>{if(!window.location.hash&&window.scrollY>0){let e=document.querySelector("#StickyHeader");e&&(e.style.position="relative",e.scrollIntoView(),e.style.position="sticky")}},[e.path]);let{codeCenterOption:ek}=(0,R.ud)(),eN=M.useCallback(()=>{window.innerWidth<N.Gy.large&&ev({focus:"search"})},[ev]);return n=ee?e.editInfo.isNewFile?"new":"edit":el?"blame":er?"blob":"tree",(0,a.jsx)(X.mD,{...ec,children:(0,a.jsx)($.Zj,{...ed,children:(0,a.jsx)(E.n,{path:l,children:(0,a.jsx)(c.O,{action:n,children:(0,a.jsx)(b.A,{isMarketplaceEnabled:e.isMarketplaceEnabled,children:(0,a.jsx)(h.d,{copilotAccessAllowed:e.copilotAccessAllowed??!1,copilotSpacesEnabled:e.copilotSpacesEnabled??!1,modelsAccessAllowed:e.modelsAccessAllowed??!1,modelsRepoIntegrationEnabled:e.modelsRepoIntegrationEnabled??!1,children:(0,a.jsx)(w.x,{refInfo:v,children:(0,a.jsx)(p.O,{canEdit:v.canEdit,canEditOnDefaultBranch:v.canEditOnDefaultBranch,fileExistsOnDefault:v.fileExistsOnDefault,children:(0,a.jsx)(d.$,{allShortcutsEnabled:e.allShortcutsEnabled,children:(0,a.jsxs)(k.Nq,{children:[(0,a.jsx)(V.U,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.Ck,{children:(0,a.jsx)(x.cD,{payload:e,openPanelRef:ex,children:(0,a.jsxs)(B.O7,{children:[(0,a.jsx)(P.az,{ref:eu,tabIndex:0,sx:{width:["100%","100%","auto"]},children:(0,a.jsx)(k.c2,{id:eb,repo:r,path:l,isFilePath:er||ee||ea,refInfo:v,collapseTree:ej,showTree:eg,fileTree:ew,onItemSelected:eT,processingTime:e.fileTreeProcessingTime,treeToggleElement:eI,treeToggleRef:eC,searchBoxRef:ey,foldersToFetch:e.foldersToFetch,incompleteFileTree:e.incompleteFileTree,onFindFilesShortcut:eN,textAreaId:et.wQ,findFileWorkerPath:o,headerContent:(0,a.jsxs)(P.az,{sx:{display:"flex",width:"100%",mb:3,alignItems:"center"},children:[eg&&eI,(0,a.jsx)(P.DZ,{as:"h2",sx:{fontSize:2,ml:2},children:"Files"})]})})}),(0,a.jsx)(B.O7.Content,{as:"div",padding:"none",width:ek.enabled?"xlarge":"full",hidden:{narrow:eg},children:(0,a.jsx)(P.az,{sx:{marginLeft:"auto",marginRight:"auto",flexDirection:"column",pb:6,maxWidth:"100%",mt:0},ref:es,"data-selector":"repos-split-pane-content",tabIndex:0,children:(0,a.jsx)(K.mx,{children:(0,a.jsx)(Z.w,{isBlame:el,children:(0,a.jsxs)(u.lG,{children:[(0,a.jsx)(P.az,{sx:{display:ee?"none":"inherit"},children:(0,a.jsx)(G.Ay,{payload:e,showTree:eg,treeToggleElement:eI,validCodeNav:eO,onFindFilesShortcut:eN})}),e.error?(0,a.jsx)(i.D,{...e.error}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.az,{className:"react-code-view-bottom-padding",sx:{mx:3},children:(0,a.jsx)(H.Ay,{payload:e})}),(0,a.jsx)(P.az,{sx:{mx:3},children:(0,O.H)(e)?(0,a.jsx)(q.A,{tree:e.tree,showTree:eg,treeToggleElement:eI}):C(e)?(0,a.jsx)(M.Suspense,{fallback:(0,a.jsx)(U.f,{}),children:(0,a.jsx)(en,{collapseTree:ej,editInfo:e.editInfo,repo:e.repo,showTree:eg,treeToggleElement:eI,webCommitInfo:e.webCommitInfo,copilotInfo:e.copilotInfo,copilotGenerateCommitMessageAuthInfo:e.copilotGenerateCommitMessageAuthInfo,isDataRouter:t},`${e.path}_${e.editInfo.fileName}_${e.editInfo.isNewFile}`)}):er?(0,a.jsx)(J.s,{blob:e.blob,children:(0,a.jsx)(Y.k,{blame:e.blame,children:(0,a.jsx)(L.C,{blame:e.blame,blob:e.blob,symbolsExpanded:e.symbolsExpanded,setValidCodeNav:eS,showTree:eg,treeToggleElement:eI,validCodeNav:eO,copilotInfo:e.copilotInfo})})}):ea?(0,a.jsx)(Q.k,{deleteInfo:e.deleteInfo,webCommitInfo:e.webCommitInfo}):null})]})]})})})})})]})})}),(0,a.jsx)(W.t,{}),(0,a.jsx)(s._,{buttonFocusId:et.wQ,buttonHotkey:eE.hotkey,onButtonClick:()=>(function(){let e=document.getElementById(z.M),t=document.getElementById(et.wQ);if(document.activeElement?.id===et.wQ&&(ep.current=!0),ei?.contains(document.activeElement)&&!ep.current?eh.current=!0:eu.current?.contains(document.activeElement)&&(eh.current=!1),eh.current||ep.current)if(ep.current){let t=ef.current||e||ei;eh.current=!0,ep.current=!1,t?.focus()}else{let e=em.current||eu.current;ef.current=ei?.contains(document.activeElement)?document.activeElement:null,eh.current=!1,ep.current=!1,e?.focus()}else{let e=t||ei;em.current=eu.current?.contains(document.activeElement)?document.activeElement:null,eh.current=!1,e?.focus()}})()})]})]})})})})})})})})})})}el.displayName="CodeViewLegacy",(0,o.o)("react-code-view",()=>({App:l.q,routes:[(0,r.a)({path:"/:owner/:repo/tree/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blob/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blame/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/edit/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/delete/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/delete/:branch/:path/*",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo",Component:er,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/:branch/*",Component:er,shouldNavigateOnError:!0})]}))},82579(e,t,n){n.d(t,{A:()=>l});var r=n(16522),o=n(96540);function l(){let e,t,n,l=(0,r.c)(3),a=(0,o.useRef)(!1);l[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>a.current,l[0]=e):e=l[0];let i=e;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(a.current=!0,()=>{a.current=!1}),n=[],l[1]=t,l[2]=n):(t=l[1],n=l[2]),(0,o.useLayoutEffect)(t,n),i}},74755(e,t,n){n.d(t,{X:()=>i});var r=n(16522),o=n(96540);function l(){return()=>{}}function a(){return!1}function i(e){let t,n=(0,r.c)(2);return n[0]!==e?(t=()=>{let t=function(){if("u"<typeof navigator);else if(/Windows/.test(navigator.userAgent))return"windows";else if(/Macintosh/.test(navigator.userAgent))return"mac";return null}();return null!==t&&e.includes(t)},n[0]=e,n[1]=t):t=n[1],(0,o.useSyncExternalStore)(l,t,a)}}},function(e){e.O(0,["10870","13835","15460","16920","18549","19762","21463","22060","23270","2966","32288","32769","36322","41013","42688","437","45739","46376","49863","50343","51705","55821","58110","59660","67894","68751","69395","7053","73694","7463","7542","77691","78967","81482","82048","83465","84085","90225","94240","97083","98131","99028"],function(){return e(e.s=88117)}),e.O()}]);
//# sourceMappingURL=react-code-view-7f9b1e975c66b8cd-d8fbfd42dd8af6c1.js.map